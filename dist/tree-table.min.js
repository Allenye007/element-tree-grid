!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ELEMENT_TREE_COLUMN=t()}(this,function(){"use strict";var e=function(e,t){for(var n=-1,r=0;r<t.length;r++)if(t[r]==e){n=r;break}return n},t=function(t,n,r,i){for(var d=[],o=[t],a=-1;a!=o.length;)a=o.length,n.forEach(function(t){e(t[r],o)>-1&&e(t[i],o)==-1&&(d.push(t[i]),o.push(t[i]))});return d},n={indexOf:e,descendantsIds:t},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-table-column",{attrs:{prop:e.prop,label:e.label,width:e.width},scopedSlots:e._u([["default",function(t){return[e.hasChild(t.row)?n("span",{on:{click:function(n){n.preventDefault(),e.doexpanded(t.$index,t.row)}}},[n("span",{style:{paddingLeft:e.paddingLeft(t.row)}},[n("i",{class:"el-icon-caret-"+e.icon(t.row)}),e._v(" "),n("i",{class:e.floderIcon(t.row),staticStyle:{"padding-right":"7px"}})]),n("span",[e._v(e._s(t.row[e.prop]))])]):e._e(),e.hasChild(t.row)?e._e():n("span",[n("span",{style:{paddingLeft:e.paddingLeft(t.row)}},[n("i",{class:e.fileIcon,staticStyle:{"padding-right":"7px","padding-left":"18px"}})]),n("span",[e._v(e._s(t.row[e.prop]))])])]}]])})},staticRenderFns:[],name:"el-table-tree-column",props:{prop:{type:String},label:{type:String},width:{type:String},treeKey:{type:String,default:"id"},childNumKey:{type:String,default:"child_num"},parentKey:{type:String,default:"parent_id"},levelKey:{type:String,default:"depth"},childKey:{type:String,default:"children"},fileIcon:{type:String,default:"el-icon-file"},folderIcon:{type:String,default:"el-icon-folder"}},computed:{owner:function(){for(var e=this.$parent;e&&!e.tableId;)e=e.$parent;return e}},methods:{floderIcon:function(e){var t=(this.hasChild(e),e.$extra&&e.$extra.expanded),n=this.folderIcon,r=this.folderIcon+"-open";return t?r:n},hasChild:function(e){return void 0!=e[this.childNumKey]?e[this.childNumKey]>0:void 0!=e[this.childKey]&&e[this.childKey].length>0},paddingLeft:function(e){return 14*parseInt(e[this.levelKey])+"px"},icon:function(e){return e.$extra&&e.$extra.expanded?"bottom":"right"},doexpanded:function(e,t){var r=this,i=JSON.parse(JSON.stringify(this.owner.store.states._data));if(void 0==i[e].$extra?i[e].$extra={expanded:!0}:i[e].$extra.expanded=!i[e].$extra.expanded,i[e].$extra.expanded){for(var d=i.slice(0,e+1),o=0;o<e+1;)i.shift(),o++;i=d.concat(t[r.childKey]).concat(i)}else{var a=t[r.treeKey],l=[],p=n.descendantsIds(a,i,this.parentKey,this.treeKey);i.forEach(function(e){n.indexOf(e[r.treeKey],p)==-1&&l.push(e)}),i=l}this.owner.store.commit("setData",i)}}};return"undefined"!=typeof window&&window.Vue&&Vue.component(r.name,r),r});